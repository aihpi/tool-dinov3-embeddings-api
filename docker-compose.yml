services:
  embeddings:
    build:
      context: .
      dockerfile: docker/Dockerfile
    ports:
      - "8000:8000"
    environment:
      - MODEL_ID=facebook/dinov3-vitl16-pretrain-lvd1689m
      - DEVICE=cpu
      - BATCH_SIZE=4
      - MAX_IMAGE_BYTES=10485760
      - MAX_URL_TIMEOUT=5
    volumes:
      - huggingface_cache:/root/.cache/huggingface

volumes:
  huggingface_cache:
